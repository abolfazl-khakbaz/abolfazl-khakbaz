name: GitHub Metrics

on:
  # Ù‡Ø± Ø±ÙˆØ² ÛŒÚ©â€ŒØ¨Ø§Ø± Ø¢Ù¾Ø¯ÛŒØª
  schedule:
    - cron: "0 4 * * *"
  # Ø§Ù…Ú©Ø§Ù† Ø§Ø¬Ø±Ø§ Ø¯Ø³ØªÛŒ
  workflow_dispatch:
  # (Ø§Ø®ØªÛŒØ§Ø±ÛŒ) ÙˆÙ‚ØªÛŒ Ø±ÙˆÛŒ main/master push Ù…ÛŒâ€ŒÚ©Ù†ÛŒ
  push:
    branches:
      - main
      - master

jobs:
  github-metrics:
    runs-on: ubuntu-latest
    steps:
      - uses: lowlighter/metrics@latest
        with:
          # ØªÙˆÚ©Ù†ÛŒ Ú©Ù‡ Ø³Ø§Ø®ØªÛŒ Ùˆ Ø¨Ù‡ Ù†Ø§Ù… METRICS_README_TOKEN Ø°Ø®ÛŒØ±Ù‡ Ú©Ø±Ø¯ÛŒ
          token: ${{ secrets.METRICS_README_TOKEN }}

          # ğŸ§‘â€ğŸ’» ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù¾Ø§ÛŒÙ‡
          user: abolfazl-khakbaz
          template: classic
          base: header, activity, repositories, metadata
          config_timezone: Europe/Rome
          config_display: large

          # ğŸŒˆ Ù¾Ù„Ø§Ú¯ÛŒÙ† Ø²Ø¨Ø§Ù†â€ŒÙ‡Ø§ (Ø¨Ø§ private repos)
          plugin_languages: yes
          plugin_languages_indepth: yes
          plugin_languages_analysis_timeout: 15
          plugin_languages_categories: programming
          plugin_languages_recent: yes
          plugin_languages_recent_categories: programming
          plugin_languages_recent_load: 300
          plugin_languages_recent_days: 30
          plugin_languages_details: percentage
          plugin_languages_limit: 12
          plugin_languages_other: yes

          # ğŸ“† ØªÙ‚ÙˆÛŒÙ… Ú©Ø§Ù…ÛŒØªâ€ŒÙ‡Ø§ (Ø§ÛŒØ²ÙˆÙ…ØªØ±ÛŒÚ©)
          plugin_isocalendar: yes
          plugin_isocalendar_duration: full-year

          # ğŸ… Achievements
          plugin_achievements: yes
          plugin_achievements_display: detailed
          plugin_achievements_secrets: yes
          plugin_achievements_threshold: C

          # ğŸ“ˆ Lines of code changed
          plugin_lines: yes

          # ğŸ” Ø±ÛŒÙ¾Ø§Ø²ÛŒØªÙˆØ±ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¯Ø±Ú¯ÛŒØ±
          repositories_affiliations: owner, collaborator
          repositories_forks: yes
